<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 col-xs-12">
      <div class="dialog-body">
        <nb-card>
          <nb-card-body *ngIf="isCadastro">
            <form id="form-novo-paciente" [formGroup]="formDependente">
              <div class="col-md-12 col-xs-12">
                <div class="form-row align-items-center">
                  <nb-card-header class="aditi-header">
                    <div class="back-link">
                      <a class="m-lg-n3" (click)="previousPage()" aria-label="back">
                        <nb-icon icon="arrow-back" title="voltar"></nb-icon>
                      </a>
                    </div>
                  </nb-card-header>
                  <div class="form-group col-md-3">
                    <h5 class="pt-3">Incluir Novos Dependente</h5>
                  </div>
                </div>
               
                <div class="form-row align-items-center">
                  <h6 class="p-1">Dados do Responsável:</h6>
                </div>                       


                  <div class="col-md-12">

                  <div class="form-row align-items-center">
                    <p class="card-text mb-0"><strong>Nome Responsável:</strong> {{ NewowData.name }}</p>
                  </div>
                  <div class="form-row align-items-center">
                    <p class="card-text mb-0"><strong>Telefone:</strong> {{ NewowData.cellPhone }}</p>
                  </div>
                  <div class="form-row align-items-center">
                    <p class="card-text mb-0"><strong>Email:</strong> {{ NewowData.email }}</p>
                  </div>
                  <div class="form-row align-items-center">
                    <p class="card-text mb-0"><strong>CPF:</strong> {{ NewowData.federalId }}</p>
                  </div>
                </div>
                            
                <div class="form-row align-items-center">
                  <h6 class="p-1">Dados do Dependente:</h6>
                </div>                       

                <div class="form-row align-items-center">
                  <div class="form-group col-md-4">
                    <label for="nomeDep">Nome do Dependente*</label>
                    <input class="form-control" name="nomeDep" id="nomeDep" type="text" formControlName="nomeDep" />
                  </div>
                  <div class="form-group col-md-4">
                    <label for="dateNascDep">Data de Nascimento*</label>
                    <input class="form-control" type="date" id="dateNascDep" name="mydate" formControlName="dateNascDep"
                      maxlength="10" (blur)="validaData($event.target.value)" />
                  </div>
                  <div class="form-group col-md-4 ali align-items-center">
                    <label class="mat-button mb-3">Sexo Biológico*</label>
                    <div class="row">
                      <label class="radio-inline mr-3 pl-3">
                        <input class="mat-button" type="radio" id="radio" name="optradio" value="M"
                          (click)="viewdiv($event.target.value)">
                        Masculino
                      </label>
                      <label class="radio-inline">
                        <input class="mat-button" type="radio" id="radio" name="optradio" value="F"
                          (click)="viewdiv($event.target.value)"> Feminino
                      </label>
                    </div>
                  </div>
                </div>
                              
                <div class="form-row align-items-center">
                  <div class="form-group col-md-3">
                    <label for="cpfDep">CPF (Opcional)</label>
                    <input class="form-control" name="cpfDep" id="cpfDep" type="text" formControlName="cpfDep"
                      value="cpfDep" mask="000.000.000-00" (change)="isValidCpf($event.target,formDependente.value)" />
                  </div>
                  <div class="form-group col-md-3">
                    <label for="rgDep">RG (Opcional)</label>
                    <input class="form-control" name="rgDep" id="rgDep" type="text" formControlName="rgDep"
                      mask="00.000.000-0" />
                  </div>
                  <div class="form-group col-md-2">
                    <label for="tipoSanguineo">Tipo Sanguineo (Opcional)</label>
                    <select class="form-control" formControlName="tipoSanguineo">
                      <option value="null" selected>SELECIONE</option>
                      <option *ngFor="let tipoSanguineo of listSanguino" value="{{ tipoSanguineo.descricao }}">{{
                        tipoSanguineo.descricao}}</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-row align-items-center pt-5 modal-footer">
                <div class="form-group col-md-2 mr-lg-n4">
                  <div class="form-group">
                    <div class="login_btn">
                      <button type="button" id="cadastrar" class="btn btn-success nb-custom-message-full-width"
                        (click)="cadastrarPaciente(formDependente.value)">Incluir</button>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </nb-card-body>
          <nb-card-body *ngIf="isVisualizar">
            <div class="col-md-12 col-xs-12">
              <div class="form-row align-items-center">
                <nb-card-header class="aditi-header">
                  <div class="back-link">
                    <a class="m-lg-n3" (click)="previousPage()" aria-label="back">
                      <nb-icon icon="arrow-back" title="voltar"></nb-icon>
                    </a>
                  </div>
                </nb-card-header>
                <div class="form-group col-md-3">
                  <h5 class="pt-3">Visualizar Dependentes</h5>
                </div>
              </div>
              <div class="form-row align-items-center">
                <div class="form-group col-md-6">
                  <label for="tipoSanguineo">Nome Responsável: {{ this.nameMae }}</label>
                </div>
              </div>
            </div>

            <div class="form-row align-items-center">
              <div class="form-group col-md-12">
                <div class="app-box">
                  <div class="row">
                    <div class="col-md-4" *ngFor="let row of rowData">
                      <nb-card>
                        <nb-card-body>
                          <div class="text-center">
                            <img src="{{row.avatar}}" style="height: 55px; border-radius: 50%;">
                          </div>
                          <p class="card-text">Paciente: {{ row?.nameChild || row.name }}</p>
                          <p class="card-text" *ngIf="row?.nameChild && row?.name">Nome Paciente: {{ row?.name }}</p>
                          <p class="card-text">Telefone: {{ row.cellPhone }}</p>
                          <p class="card-text">Email: {{ row.email }}</p>
                          <p class="card-text">Nome da Mãe: {{ row.nameMother }}</p>
                          <p class="card-text">Nome do Pai: {{ row.nameFather }}</p>
                          <p class="card-text">Sexo: {{ row.biologicalSex }}</p>
                          <p class="card-text">Data Cadastro: {{ row.dateRegister }}</p>
                          <p class="card-text">Data de Nascimento: {{ row.birthDate }}</p>
                          <p class="card-text">Tipo do Sangue: {{ row.bloodType }}</p>
              
                          <div class="datatable-body-box-actions">
                            <button class="btn edit-icon pt-4" (click)="EditarDependente(row)" title="Editar Cadastro">
                              <i class="fas fa-pencil-alt" aria-label="Editar Cadastro"></i>
                            </button>

                            <button class="btn edit-icon pt-4" (click)="buscaAgenda(row)" title="Visualizar Atendimentos">
                              <i class="fas fa-list" aria-label="Visualizar Atendimentos"></i>
                            </button>
                          </div>
                        </nb-card-body>
                      </nb-card>
                    </div>
                  </div>
                </div>
              </div>
              
          </div>

          </nb-card-body>
        </nb-card>
      </div>
    </div>
  </div>
</div>
